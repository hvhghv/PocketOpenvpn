<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mbed TLS v3.5.1: Built-in keys</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mbed TLS v3.5.1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Built-in keys</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa0cdcd889aaaca7d78c378deb1e14353"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__psa__builtin__keys.html#gaa0cdcd889aaaca7d78c378deb1e14353">MBEDTLS_PSA_KEY_ID_BUILTIN_MIN</a>&#160;&#160;&#160;((<a class="el" href="group__key__lifetimes.html#ga11e986351c65bd3dc3c0fe2cd9926e4b">psa_key_id_t</a>) 0x7fff0000)</td></tr>
<tr class="separator:gaa0cdcd889aaaca7d78c378deb1e14353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0af04ffbbc3f6bc08562381205b8ef5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__psa__builtin__keys.html#ga0af04ffbbc3f6bc08562381205b8ef5e">MBEDTLS_PSA_KEY_ID_BUILTIN_MAX</a>&#160;&#160;&#160;((<a class="el" href="group__key__lifetimes.html#ga11e986351c65bd3dc3c0fe2cd9926e4b">psa_key_id_t</a>) 0x7fffefff)</td></tr>
<tr class="separator:ga0af04ffbbc3f6bc08562381205b8ef5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1eb805bebc295cc2f7132679fa85d43d"><td class="memItemLeft" align="right" valign="top">typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__psa__builtin__keys.html#ga1eb805bebc295cc2f7132679fa85d43d">psa_drv_slot_number_t</a></td></tr>
<tr class="separator:ga1eb805bebc295cc2f7132679fa85d43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadc4d72a56b1aa44a9e244d4843cfe209"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__psa__builtin__keys.html#gadc4d72a56b1aa44a9e244d4843cfe209">psa_key_id_is_builtin</a> (<a class="el" href="group__key__lifetimes.html#ga11e986351c65bd3dc3c0fe2cd9926e4b">psa_key_id_t</a> key_id)</td></tr>
<tr class="separator:gadc4d72a56b1aa44a9e244d4843cfe209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffcd70aaab258bd6a1721b031f9965c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__psa__builtin__keys.html#gaffcd70aaab258bd6a1721b031f9965c5">mbedtls_psa_platform_get_builtin_key</a> (<a class="el" href="group__key__lifetimes.html#ga9a5375bd0cb9694f3a2694adc0a6ae13">mbedtls_svc_key_id_t</a> key_id, <a class="el" href="group__key__lifetimes.html#ga6821ff6dd39dc2bc370ded760ad8b0cf">psa_key_lifetime_t</a> *lifetime, <a class="el" href="group__psa__builtin__keys.html#ga1eb805bebc295cc2f7132679fa85d43d">psa_drv_slot_number_t</a> *slot_number)</td></tr>
<tr class="separator:gaffcd70aaab258bd6a1721b031f9965c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga0af04ffbbc3f6bc08562381205b8ef5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0af04ffbbc3f6bc08562381205b8ef5e">&#9670;&nbsp;</a></span>MBEDTLS_PSA_KEY_ID_BUILTIN_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBEDTLS_PSA_KEY_ID_BUILTIN_MAX&#160;&#160;&#160;((<a class="el" href="group__key__lifetimes.html#ga11e986351c65bd3dc3c0fe2cd9926e4b">psa_key_id_t</a>) 0x7fffefff)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The maximum value for a key identifier that is built into the implementation.</p>
<p>See <a class="el" href="group__psa__builtin__keys.html#gaa0cdcd889aaaca7d78c378deb1e14353">MBEDTLS_PSA_KEY_ID_BUILTIN_MIN</a> for more information. </p>

<p class="definition">Definition at line <a class="el" href="crypto__extra_8h_source.html#l00681">681</a> of file <a class="el" href="crypto__extra_8h_source.html">crypto_extra.h</a>.</p>

</div>
</div>
<a id="gaa0cdcd889aaaca7d78c378deb1e14353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0cdcd889aaaca7d78c378deb1e14353">&#9670;&nbsp;</a></span>MBEDTLS_PSA_KEY_ID_BUILTIN_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBEDTLS_PSA_KEY_ID_BUILTIN_MIN&#160;&#160;&#160;((<a class="el" href="group__key__lifetimes.html#ga11e986351c65bd3dc3c0fe2cd9926e4b">psa_key_id_t</a>) 0x7fff0000)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The minimum value for a key identifier that is built into the implementation.</p>
<p>The range of key identifiers from <a class="el" href="group__psa__builtin__keys.html#gaa0cdcd889aaaca7d78c378deb1e14353">MBEDTLS_PSA_KEY_ID_BUILTIN_MIN</a> to <a class="el" href="group__psa__builtin__keys.html#ga0af04ffbbc3f6bc08562381205b8ef5e">MBEDTLS_PSA_KEY_ID_BUILTIN_MAX</a> within the range from <a class="el" href="group__key__lifetimes.html#ga1f7e6d90f523bef964d207c1d3236e0b">PSA_KEY_ID_VENDOR_MIN</a> and <a class="el" href="group__key__lifetimes.html#ga3afb6bb4644c995cf95309a71e7baeb1">PSA_KEY_ID_VENDOR_MAX</a> and must not intersect with any other set of implementation-chosen key identifiers.</p>
<p>This value is part of the library's ABI since changing it would invalidate the values of built-in key identifiers in applications. </p>

<p class="definition">Definition at line <a class="el" href="crypto__extra_8h_source.html#l00674">674</a> of file <a class="el" href="crypto__extra_8h_source.html">crypto_extra.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga1eb805bebc295cc2f7132679fa85d43d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1eb805bebc295cc2f7132679fa85d43d">&#9670;&nbsp;</a></span>psa_drv_slot_number_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint64_t <a class="el" href="group__psa__builtin__keys.html#ga1eb805bebc295cc2f7132679fa85d43d">psa_drv_slot_number_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A slot number identifying a key in a driver.</p>
<p>Values of this type are used to identify built-in keys. </p>

<p class="definition">Definition at line <a class="el" href="crypto__extra_8h_source.html#l00687">687</a> of file <a class="el" href="crypto__extra_8h_source.html">crypto_extra.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaffcd70aaab258bd6a1721b031f9965c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffcd70aaab258bd6a1721b031f9965c5">&#9670;&nbsp;</a></span>mbedtls_psa_platform_get_builtin_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a> mbedtls_psa_platform_get_builtin_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__lifetimes.html#ga9a5375bd0cb9694f3a2694adc0a6ae13">mbedtls_svc_key_id_t</a>&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__key__lifetimes.html#ga6821ff6dd39dc2bc370ded760ad8b0cf">psa_key_lifetime_t</a> *&#160;</td>
          <td class="paramname"><em>lifetime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__psa__builtin__keys.html#ga1eb805bebc295cc2f7132679fa85d43d">psa_drv_slot_number_t</a> *&#160;</td>
          <td class="paramname"><em>slot_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Platform function to obtain the location and slot number of a built-in key.</p>
<p>An application-specific implementation of this function must be provided if <a class="el" href="mbedtls__config_8h.html#a1bd8bee51fb122e552a4cbc1bbdb0b96">MBEDTLS_PSA_CRYPTO_BUILTIN_KEYS</a> is enabled. This would typically be provided as part of a platform's system image.</p>
<p><a class="el" href="group__key__lifetimes.html#gafac336b4a8b7309d90370fc57c71f01e">MBEDTLS_SVC_KEY_ID_GET_KEY_ID</a>(<code>key_id</code>) needs to be in the range from <a class="el" href="group__psa__builtin__keys.html#gaa0cdcd889aaaca7d78c378deb1e14353">MBEDTLS_PSA_KEY_ID_BUILTIN_MIN</a> to <a class="el" href="group__psa__builtin__keys.html#ga0af04ffbbc3f6bc08562381205b8ef5e">MBEDTLS_PSA_KEY_ID_BUILTIN_MAX</a>.</p>
<p>In a multi-application configuration (<code>MBEDTLS_PSA_CRYPTO_KEY_ID_ENCODES_OWNER</code> is defined), this function should check that <a class="el" href="group__key__lifetimes.html#gae05471b23d45767d768416bfe882eb79">MBEDTLS_SVC_KEY_ID_GET_OWNER_ID</a>(<code>key_id</code>) is allowed to use the given key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">key_id</td><td>The key ID for which to retrieve the location and slot attributes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lifetime</td><td>On success, the lifetime associated with the key corresponding to <code>key_id</code>. Lifetime is a combination of which driver contains the key, and with what persistence level the key is intended to be used. If the platform implementation does not contain specific information about the intended key persistence level, the persistence level may be reported as <a class="el" href="group__key__lifetimes.html#gafc5d5c94f98e885ae5a2bb789deb4d91">PSA_KEY_PERSISTENCE_DEFAULT</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">slot_number</td><td>On success, the slot number known to the driver registered at the lifetime location reported through <code>lifetime</code> which corresponds to the requested built-in key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error.html#ga4cc859e2c66ca381c7418db3527a65e1">PSA_SUCCESS</a></td><td>The requested key identifier designates a built-in key. In a multi-application configuration, the requested owner is allowed to access it. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga18646babb2ae6cbde02ea3828bbd9141">PSA_ERROR_DOES_NOT_EXIST</a></td><td>The requested key identifier is not a built-in key which is known to this function. If a key exists in the key storage with this identifier, the data from the storage will be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(any other error) Any other error is propagated to the function that requested the key. Common errors include:<ul>
<li><a class="el" href="group__error.html#ga4d1b8dd8526177a15a210b7afc1accb1">PSA_ERROR_NOT_PERMITTED</a>: the key exists but the requested owner is not allowed to access it. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gadc4d72a56b1aa44a9e244d4843cfe209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc4d72a56b1aa44a9e244d4843cfe209">&#9670;&nbsp;</a></span>psa_key_id_is_builtin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int psa_key_id_is_builtin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__lifetimes.html#ga11e986351c65bd3dc3c0fe2cd9926e4b">psa_key_id_t</a>&#160;</td>
          <td class="paramname"><em>key_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Test whether a key identifier belongs to the builtin key range.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_id</td><td>Key identifier to test.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>The key identifier is a builtin key identifier. </td></tr>
    <tr><td class="paramname">0</td><td>The key identifier is not a builtin key identifier. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="crypto__extra_8h_source.html#l00699">699</a> of file <a class="el" href="crypto__extra_8h_source.html">crypto_extra.h</a>.</p>

<p class="reference">References <a class="el" href="crypto__extra_8h_source.html#l00681">MBEDTLS_PSA_KEY_ID_BUILTIN_MAX</a>, and <a class="el" href="crypto__extra_8h_source.html#l00674">MBEDTLS_PSA_KEY_ID_BUILTIN_MIN</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 6 2024 20:24:42 for Mbed TLS v3.5.1 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
