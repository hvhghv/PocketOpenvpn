<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="structpsa__drv__se__context__t" kind="struct" language="C++" prot="public">
    <compoundname>psa_drv_se_context_t</compoundname>
    <includes refid="crypto__se__driver_8h" local="no">crypto_se_driver.h</includes>
      <sectiondef kind="public-attrib">
      <memberdef kind="variable" id="structpsa__drv__se__context__t_1aec397926e3f4d632cdff5df7b8b50e4d" prot="public" static="no" mutable="no">
        <type>const void *const</type>
        <definition>const void* const psa_drv_se_context_t::private_persistent_data</definition>
        <argsstring></argsstring>
        <name>private_persistent_data</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>A read-only pointer to the driver&apos;s persistent data.</para>
<para>Drivers typically use this persistent data to keep track of which slot numbers are available. This is only a guideline: drivers may use the persistent data for any purpose, keeping in mind the restrictions on when the persistent data is saved to storage: the persistent data is only saved after calling certain functions that receive a writable pointer to the persistent data.</para>
<para>The core allocates a memory buffer for the persistent data. The pointer is guaranteed to be suitably aligned for any data type, like a pointer returned by <computeroutput>malloc</computeroutput> (but the core can use any method to allocate the buffer, not necessarily <computeroutput>malloc</computeroutput>).</para>
<para>The size of this buffer is in the <computeroutput>persistent_data_size</computeroutput> field of this structure.</para>
<para>Before the driver is initialized for the first time, the content of the persistent data is all-bits-zero. After a driver upgrade, if the size of the persistent data has increased, the original data is padded on the right with zeros; if the size has decreased, the original data is truncated to the new size.</para>
<para>This pointer is to read-only data. Only a few driver functions are allowed to modify the persistent data. These functions receive a writable pointer. These functions are:<itemizedlist>
<listitem><para>psa_drv_se_t::p_init</para>
</listitem><listitem><para>psa_drv_se_key_management_t::p_allocate</para>
</listitem><listitem><para>psa_drv_se_key_management_t::p_destroy</para>
</listitem></itemizedlist>
</para>
<para>The PSA Cryptography core saves the persistent data from one session to the next. It does this before returning from API functions that call a driver method that is allowed to modify the persistent data, specifically:<itemizedlist>
<listitem><para><ref refid="group__initialization_1ga2de150803fc2f7dc6101d5af7e921dd9" kindref="member">psa_crypto_init()</ref> causes a call to psa_drv_se_t::p_init, and may call psa_drv_se_key_management_t::p_destroy to complete an action that was interrupted by a power failure.</para>
</listitem><listitem><para>Key creation functions cause a call to psa_drv_se_key_management_t::p_allocate, and may cause a call to psa_drv_se_key_management_t::p_destroy in case an error occurs.</para>
</listitem><listitem><para><ref refid="group__key__management_1ga5f52644312291335682fbc0292c43cd2" kindref="member">psa_destroy_key()</ref> causes a call to psa_drv_se_key_management_t::p_destroy. </para>
</listitem></itemizedlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" line="89" column="22" bodyfile="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" bodystart="89" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="structpsa__drv__se__context__t_1aec353671b641d17f394c29310aa2df26" prot="public" static="no" mutable="no">
        <type>const size_t</type>
        <definition>const size_t psa_drv_se_context_t::private_persistent_data_size</definition>
        <argsstring></argsstring>
        <name>private_persistent_data_size</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The size of <computeroutput>persistent_data</computeroutput> in bytes.</para>
<para>This is always equal to the value of the <computeroutput>persistent_data_size</computeroutput> field of the <ref refid="structpsa__drv__se__t" kindref="compound">psa_drv_se_t</ref> structure when the driver is registered. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" line="96" column="18" bodyfile="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" bodystart="96" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="structpsa__drv__se__context__t_1ac1741cc4fe186b3e75ab9b7eaff4fc80" prot="public" static="no" mutable="no">
        <type>uintptr_t</type>
        <definition>uintptr_t psa_drv_se_context_t::private_transient_data</definition>
        <argsstring></argsstring>
        <name>private_transient_data</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Driver transient data.</para>
<para>The core initializes this value to 0 and does not read or modify it afterwards. The driver may store whatever it wants in this field. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" line="103" column="15" bodyfile="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" bodystart="103" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Driver context structure. </para>
    </briefdescription>
    <detaileddescription>
<para>Driver functions receive a pointer to this structure. Each registered driver has one instance of this structure.</para>
<para>Implementations must include the fields specified here and may include other fields. </para>
    </detaileddescription>
    <location file="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" line="44" column="15" bodyfile="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" bodystart="44" bodyend="104"/>
    <listofallmembers>
      <member refid="structpsa__drv__se__context__t_1aec397926e3f4d632cdff5df7b8b50e4d" prot="public" virt="non-virtual"><scope>psa_drv_se_context_t</scope><name>private_persistent_data</name></member>
      <member refid="structpsa__drv__se__context__t_1aec353671b641d17f394c29310aa2df26" prot="public" virt="non-virtual"><scope>psa_drv_se_context_t</scope><name>private_persistent_data_size</name></member>
      <member refid="structpsa__drv__se__context__t_1ac1741cc4fe186b3e75ab9b7eaff4fc80" prot="public" virt="non-virtual"><scope>psa_drv_se_context_t</scope><name>private_transient_data</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
