<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="group__se__registration" kind="group">
    <compoundname>se_registration</compoundname>
    <title>Secure element driver registration</title>
    <innerclass refid="structpsa__drv__se__t" prot="public">psa_drv_se_t</innerclass>
      <sectiondef kind="func">
      <memberdef kind="function" id="group__se__registration_1ga99b3afa3fcdf0599706e606119d87182" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__error_1ga05676e70ba5c6a7565aff3c36677c1f9" kindref="member">psa_status_t</ref></type>
        <definition>psa_status_t psa_register_se_driver</definition>
        <argsstring>(psa_key_location_t location, const psa_drv_se_t *methods)</argsstring>
        <name>psa_register_se_driver</name>
        <param>
          <type><ref refid="group__key__lifetimes_1ga5e700601f686237a8d1e29363ae543d5" kindref="member">psa_key_location_t</ref></type>
          <declname>location</declname>
        </param>
        <param>
          <type>const <ref refid="structpsa__drv__se__t" kindref="compound">psa_drv_se_t</ref> *</type>
          <declname>methods</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Register an external cryptoprocessor (secure element) driver.</para>
<para>This function is only intended to be used by driver code, not by application code. In implementations with separation between the PSA cryptography module and applications, this function should only be available to callers that run in the same memory space as the cryptography module, and should not be exposed to applications running in a different memory space.</para>
<para>This function may be called before <ref refid="group__initialization_1ga2de150803fc2f7dc6101d5af7e921dd9" kindref="member">psa_crypto_init()</ref>. It is implementation-defined whether this function may be called after <ref refid="group__initialization_1ga2de150803fc2f7dc6101d5af7e921dd9" kindref="member">psa_crypto_init()</ref>.</para>
<para><simplesect kind="note"><para>Implementations store metadata about keys including the lifetime value, which contains the driver&apos;s location indicator. Therefore, from one instantiation of the PSA Cryptography library to the next one, if there is a key in storage with a certain lifetime value, you must always register the same driver (or an updated version that communicates with the same secure element) with the same location value.</para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>location</parametername>
</parameternamelist>
<parameterdescription>
<para>The location value through which this driver will be exposed to applications. This driver will be used for all keys such that <computeroutput>location == #<ref refid="group__key__lifetimes_1ga4bd83feb0ca4853eee26d5394e69a5de" kindref="member">PSA_KEY_LIFETIME_GET_LOCATION( lifetime )</ref></computeroutput>. The value <ref refid="group__key__lifetimes_1ga3fbfe4a4cf7430a51cf740fe05b2ab27" kindref="member">PSA_KEY_LOCATION_LOCAL_STORAGE</ref> is reserved and may not be used for drivers. Implementations may reserve other values. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">methods</parametername>
</parameternamelist>
<parameterdescription>
<para>The method table of the driver. This structure must remain valid for as long as the cryptography module keeps running. It is typically a global constant.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="group__error_1ga4cc859e2c66ca381c7418db3527a65e1" kindref="member">PSA_SUCCESS</ref> The driver was successfully registered. Applications can now use <computeroutput>location</computeroutput> to access keys through the methods passed to this function. </para>
</simplesect>
<simplesect kind="return"><para><ref refid="group__error_1ga933d40fa2a591004f2e93aa91e11db84" kindref="member">PSA_ERROR_BAD_STATE</ref> This function was called after the initialization of the cryptography module, and this implementation does not support driver registration at this stage. </para>
</simplesect>
<simplesect kind="return"><para><ref refid="group__error_1gaf2b34cc87edc72f3ba90071a08210d20" kindref="member">PSA_ERROR_ALREADY_EXISTS</ref> There is already a registered driver for this value of <computeroutput>location</computeroutput>. </para>
</simplesect>
<simplesect kind="return"><para><ref refid="group__error_1ga798df25a505ebf931f7bec1f80f1f85f" kindref="member">PSA_ERROR_INVALID_ARGUMENT</ref> <computeroutput>location</computeroutput> is a reserved value. </para>
</simplesect>
<simplesect kind="return"><para><ref refid="group__error_1ga1dcc6d130633ed5db8942257581b55dd" kindref="member">PSA_ERROR_NOT_SUPPORTED</ref> <computeroutput>methods-&gt;hal_version</computeroutput> is not supported by this implementation. </para>
</simplesect>
<simplesect kind="return"><para><ref refid="group__error_1ga91b2ad8a867517a2651f1b076c5216e5" kindref="member">PSA_ERROR_INSUFFICIENT_MEMORY</ref> </para>
</simplesect>
<simplesect kind="return"><para><ref refid="group__error_1ga4d1b8dd8526177a15a210b7afc1accb1" kindref="member">PSA_ERROR_NOT_PERMITTED</ref> </para>
</simplesect>
<simplesect kind="return"><para><ref refid="group__error_1gadd169a1af2707862b95fb9df91dfc37d" kindref="member">PSA_ERROR_STORAGE_FAILURE</ref> </para>
</simplesect>
<simplesect kind="return"><para><ref refid="group__error_1ga9febb81a44bdeb4c6c42bf4f697b13bf" kindref="member">PSA_ERROR_DATA_CORRUPT</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" line="1373" column="14" declfile="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" declline="1373" declcolumn="14"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="define">
      <memberdef kind="define" id="group__se__registration_1ga65e25a718c3e95893522ae882d4ea826" prot="public" static="no">
        <name>PSA_DRV_SE_HAL_VERSION</name>
        <initializer>0x00000005</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>The current version of the secure element driver HAL. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" line="1319" column="9" bodyfile="/mnt/e/document/demo/v2/pocketvpn/mbedtls/include/psa/crypto_se_driver.h" bodystart="1319" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
  </compounddef>
</doxygen>
