<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>class FlashArea – access to built-in flash storage &#8212; MicroPython latest documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=def86cc0" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=d5a28fe3" />
    <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=c6e86fd7"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="zsensor — Zephyr sensor bindings" href="zephyr.zsensor.html" />
    <link rel="prev" title="class DiskAccess – access to disk storage" href="zephyr.DiskAccess.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zephyr.zsensor.html" title="zsensor — Zephyr sensor bindings"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zephyr.DiskAccess.html" title="class DiskAccess – access to disk storage"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MicroPython latest documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >MicroPython libraries</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="zephyr.html" accesskey="U"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zephyr</span></code> — functionality specific to the Zephyr port</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">class FlashArea – access to built-in flash storage</a></li> 
      </ul>
    </div>  

    <div class="document">
  
    <div class="wy-alert wy-alert-danger">
      <p>
        This is the documentation for the latest development branch of
        MicroPython and may refer to features that are not available in released
        versions.
      </p>
      <p>
        If you are looking for the documentation for a specific release, use
        the drop-down menu on the left and select the desired version.
      </p>
    </div>
  
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="class-flasharea-access-to-built-in-flash-storage">
<span id="zephyr-flasharea"></span><h1>class FlashArea – access to built-in flash storage<a class="headerlink" href="#class-flasharea-access-to-built-in-flash-storage" title="Link to this heading">¶</a></h1>
<p>Uses <a class="reference external" href="https://docs.zephyrproject.org/latest/reference/storage/flash_map/flash_map.html#flash-map">Zephyr flash map API</a>.</p>
<p>This class allows access to device flash partition data.
Flash area structs consist of a globally unique ID number, the name of the flash device the partition is in,
the start offset (expressed in relation to the flash memory beginning address per partition),
and the size of the partition that the device represents. For fixed flash partitions, data from the device
tree is used; however, fixed flash partitioning is not enforced in MicroPython because MCUBoot is not enabled.</p>
<section id="constructors">
<h2>Constructors<a class="headerlink" href="#constructors" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="zephyr.FlashArea">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zephyr.</span></span><span class="sig-name descname"><span class="pre">FlashArea</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zephyr.FlashArea" title="Link to this definition">¶</a></dt>
<dd><p>Gets an object for accessing flash memory at partition specified by <code class="docutils literal notranslate"><span class="pre">id</span></code> and with block size of <code class="docutils literal notranslate"><span class="pre">block_size</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code> values are integers correlating to fixed flash partitions defined in the devicetree.
A commonly used partition is the designated flash storage area defined as <code class="docutils literal notranslate"><span class="pre">FlashArea.STORAGE</span></code> if
<code class="docutils literal notranslate"><span class="pre">FLASH_AREA_LABEL_EXISTS(storage)</span></code> returns true at boot.
Zephyr devicetree fixed flash partitions are <code class="docutils literal notranslate"><span class="pre">boot_partition</span></code>, <code class="docutils literal notranslate"><span class="pre">slot0_partition</span></code>, <code class="docutils literal notranslate"><span class="pre">slot1_partition</span></code>, and
<code class="docutils literal notranslate"><span class="pre">scratch_partition</span></code>. Because MCUBoot is not enabled by default for MicroPython, these fixed partitions can be accessed by
ID integer values 1, 2, 3, and 4, respectively.</p>
</dd></dl>

</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="zephyr.FlashArea.readblocks">
<span class="sig-prename descclassname"><span class="pre">FlashArea.</span></span><span class="sig-name descname"><span class="pre">readblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zephyr.FlashArea.readblocks" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">FlashArea.</span></span><span class="sig-name descname"><span class="pre">readblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zephyr.FlashArea.writeblocks">
<span class="sig-prename descclassname"><span class="pre">FlashArea.</span></span><span class="sig-name descname"><span class="pre">writeblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zephyr.FlashArea.writeblocks" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">FlashArea.</span></span><span class="sig-name descname"><span class="pre">writeblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zephyr.FlashArea.ioctl">
<span class="sig-prename descclassname"><span class="pre">FlashArea.</span></span><span class="sig-name descname"><span class="pre">ioctl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zephyr.FlashArea.ioctl" title="Link to this definition">¶</a></dt>
<dd><p>These methods implement the simple and extended
<a class="reference internal" href="vfs.html#block-device-interface"><span class="std std-ref">block protocol</span></a> defined by
<a class="reference internal" href="vfs.html#vfs.AbstractBlockDev" title="vfs.AbstractBlockDev"><code class="xref py py-class docutils literal notranslate"><span class="pre">vfs.AbstractBlockDev</span></code></a>.</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">class FlashArea – access to built-in flash storage</a><ul>
<li><a class="reference internal" href="#constructors">Constructors</a><ul>
<li><a class="reference internal" href="#zephyr.FlashArea"><code class="docutils literal notranslate"><span class="pre">FlashArea</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#methods">Methods</a><ul>
<li><a class="reference internal" href="#zephyr.FlashArea.readblocks"><code class="docutils literal notranslate"><span class="pre">FlashArea.readblocks()</span></code></a></li>
<li><a class="reference internal" href="#zephyr.FlashArea.writeblocks"><code class="docutils literal notranslate"><span class="pre">FlashArea.writeblocks()</span></code></a></li>
<li><a class="reference internal" href="#zephyr.FlashArea.ioctl"><code class="docutils literal notranslate"><span class="pre">FlashArea.ioctl()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="zephyr.DiskAccess.html"
                          title="previous chapter">class DiskAccess – access to disk storage</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="zephyr.zsensor.html"
                          title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zsensor</span></code> — Zephyr sensor bindings</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/library/zephyr.FlashArea.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zephyr.zsensor.html" title="zsensor — Zephyr sensor bindings"
             >next</a> |</li>
        <li class="right" >
          <a href="zephyr.DiskAccess.html" title="class DiskAccess – access to disk storage"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MicroPython latest documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >MicroPython libraries</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="zephyr.html" ><code class="xref py py-mod docutils literal notranslate"><span class="pre">zephyr</span></code> — functionality specific to the Zephyr port</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">class FlashArea – access to built-in flash storage</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright - The MicroPython Documentation is Copyright © 2014-2024, Damien P. George, Paul Sokolovsky, and contributors.
      Last updated on 24 Jul 2024.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    </div>
  </body>
</html>