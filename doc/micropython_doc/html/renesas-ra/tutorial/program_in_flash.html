<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3. Write a program in internal file system &#8212; MicroPython latest documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css?v=def86cc0" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=d5a28fe3" />
    <link rel="stylesheet" href="../../_static/customstyle.css" type="text/css" />
    
    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=c6e86fd7"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="4. Reset and boot mode" href="reset.html" />
    <link rel="prev" title="2. Using peripherals" href="using_peripheral.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reset.html" title="4. Reset and boot mode"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="using_peripheral.html" title="2. Using peripherals"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">MicroPython latest documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../quickref.html" >Quick reference for the Renesas RA</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">MicroPython tutorial for Renesas RA port</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3. </span>Write a program in internal file system</a></li> 
      </ul>
    </div>  

    <div class="document">
  
    <div class="wy-alert wy-alert-danger">
      <p>
        This is the documentation for the latest development branch of
        MicroPython and may refer to features that are not available in released
        versions.
      </p>
      <p>
        If you are looking for the documentation for a specific release, use
        the drop-down menu on the left and select the desired version.
      </p>
    </div>
  
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="write-a-program-in-internal-file-system">
<span id="renesas-ra-program-in-flash"></span><h1><span class="section-number">3. </span>Write a program in internal file system<a class="headerlink" href="#write-a-program-in-internal-file-system" title="Link to this heading">¶</a></h1>
<section id="internal-file-system">
<h2><span class="section-number">3.1. </span>Internal file system<a class="headerlink" href="#internal-file-system" title="Link to this heading">¶</a></h2>
<p>The FAT file system is created and initialized in the RA MCU’s internal
flash when the MicroPython starts at the first time on the board.
The file system is mounted as “/flash”, so you can access this flash system
and create a program file into the /flash directory.</p>
<p>As the factory setting, following size is allocated for the file system:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Board</p></td>
<td><p>File System Size</p></td>
</tr>
<tr class="row-even"><td><p>EK-RA4M1</p></td>
<td><p>36KB ( 36864B)</p></td>
</tr>
<tr class="row-odd"><td><p>EK-RA4W1</p></td>
<td><p>64KB ( 65536B)</p></td>
</tr>
<tr class="row-even"><td><p>EK-RA6M1</p></td>
<td><p>64KB ( 65536B)</p></td>
</tr>
<tr class="row-odd"><td><p>EK-RA6M2</p></td>
<td><p>128KB (131072B)</p></td>
</tr>
<tr class="row-even"><td><p>RA4M1 CLICKER</p></td>
<td><p>36KB ( 36864B)</p></td>
</tr>
</tbody>
</table>
<p>As the factory setting, following 2 files are created in the file system:</p>
<ul class="simple">
<li><p>boot.py : executed first when the system starts</p></li>
<li><p>main.py : executed after boot.py completes</p></li>
</ul>
</section>
<section id="write-a-program-in-the-internal-file-system">
<h2><span class="section-number">3.2. </span>Write a program in the internal file system<a class="headerlink" href="#write-a-program-in-the-internal-file-system" title="Link to this heading">¶</a></h2>
<p>You can write a program in main.py which is executed automatically
when the MicroPython starts. For example, you can write LED blinking
program like below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;main.py&#39;</span><span class="p">,</span> <span class="s1">&#39;rw+&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;import time</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;from machine import Pin</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;led1 = Pin(Pin.cpu.P106)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;while True:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    led1.on()</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    time.sleep(1)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    led1.off()</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    time.sleep(1)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;main.py&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Entering CTRL-D for software reset, the MicroPython reboots, displays
following messages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MPY</span><span class="p">:</span> <span class="n">sync</span> <span class="n">filesystems</span>
<span class="n">MPY</span><span class="p">:</span> <span class="n">soft</span> <span class="n">reboot</span>
</pre></div>
</div>
<p>and main.py is executed and LED1 blinks per 1 second.
If you want to stop the program, please enter CTRL-C.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">3. Write a program in internal file system</a><ul>
<li><a class="reference internal" href="#internal-file-system">3.1. Internal file system</a></li>
<li><a class="reference internal" href="#write-a-program-in-the-internal-file-system">3.2. Write a program in the internal file system</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="using_peripheral.html"
                          title="previous chapter"><span class="section-number">2. </span>Using peripherals</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="reset.html"
                          title="next chapter"><span class="section-number">4. </span>Reset and boot mode</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/renesas-ra/tutorial/program_in_flash.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reset.html" title="4. Reset and boot mode"
             >next</a> |</li>
        <li class="right" >
          <a href="using_peripheral.html" title="2. Using peripherals"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">MicroPython latest documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../quickref.html" >Quick reference for the Renesas RA</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >MicroPython tutorial for Renesas RA port</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3. </span>Write a program in internal file system</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright - The MicroPython Documentation is Copyright © 2014-2024, Damien P. George, Paul Sokolovsky, and contributors.
      Last updated on 24 Jul 2024.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    </div>
  </body>
</html>