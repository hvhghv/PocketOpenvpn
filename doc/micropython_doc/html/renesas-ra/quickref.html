<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Quick reference for the Renesas RA &#8212; MicroPython latest documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=def86cc0" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=d5a28fe3" />
    <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=c6e86fd7"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="General information about Renesas RA port" href="general.html" />
    <link rel="prev" title="4. GPIO Pins" href="../zephyr/tutorial/pins.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="general.html" title="General information about Renesas RA port"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../zephyr/tutorial/pins.html" title="4. GPIO Pins"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MicroPython latest documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Quick reference for the Renesas RA</a></li> 
      </ul>
    </div>  

    <div class="document">
  
    <div class="wy-alert wy-alert-danger">
      <p>
        This is the documentation for the latest development branch of
        MicroPython and may refer to features that are not available in released
        versions.
      </p>
      <p>
        If you are looking for the documentation for a specific release, use
        the drop-down menu on the left and select the desired version.
      </p>
    </div>
  
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="quick-reference-for-the-renesas-ra">
<span id="renesas-ra-quickref"></span><h1>Quick reference for the Renesas RA<a class="headerlink" href="#quick-reference-for-the-renesas-ra" title="Link to this heading">¶</a></h1>
<a class="reference internal image-reference" href="../_images/ek_ra6m2_board.jpg"><img alt="Renesas Evaluation Kit for RA6M2 MCU Group" src="../_images/ek_ra6m2_board.jpg" style="width: 640px;" />
</a>
<p>The Renesas EK-RA6M2 board.</p>
<p>Below is a quick reference for the Renesas RA boards.  If it is your first time
working with this board, it may be useful to get an overview of the microcontroller and the board:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="general.html">General information about Renesas RA port</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">MicroPython tutorial for Renesas RA port</a></li>
</ul>
</div>
<section id="installing-micropython">
<h2>Installing MicroPython<a class="headerlink" href="#installing-micropython" title="Link to this heading">¶</a></h2>
<p>See the corresponding section of tutorial: <a class="reference internal" href="tutorial/intro.html#renesas-ra-intro"><span class="std std-ref">Getting started with MicroPython on the Renesas RA</span></a>. It also includes a troubleshooting subsection.</p>
</section>
<section id="general-board-control">
<h2>General board control<a class="headerlink" href="#general-board-control" title="Link to this heading">¶</a></h2>
<p>The MicroPython REPL is accessed via the USB serial port. Tab-completion is useful to find out what methods an object has. Paste mode (ctrl-E) is useful to paste a large slab of Python code into the REPL.  Some of features are not implemented for Renesas RA boards yet, please refer to the tutorial for more details.</p>
<p>The <a class="reference internal" href="../library/machine.html#module-machine" title="machine: functions related to the hardware"><code class="xref py py-mod docutils literal notranslate"><span class="pre">machine</span></code></a> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">machine</span>

<span class="n">machine</span><span class="o">.</span><span class="n">freq</span><span class="p">()</span>    <span class="c1"># get the current frequency of the CPU</span>
</pre></div>
</div>
<p>Following functions are supported:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">machine</span><span class="o">.</span><span class="n">freq</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">soft_reset</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">unique_id</span><span class="p">()</span>
</pre></div>
</div>
<p>Following functions are not supported at the present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">machine</span><span class="o">.</span><span class="n">reset_cause</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">bootloader</span><span class="p">([</span><span class="n">value</span><span class="p">])</span>
<span class="n">machine</span><span class="o">.</span><span class="n">disable_irq</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">enable_irq</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="n">machine</span><span class="o">.</span><span class="n">freq</span><span class="p">([</span><span class="n">hz</span><span class="p">])</span>
<span class="n">machine</span><span class="o">.</span><span class="n">idle</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">sleep</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">lightsleep</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">lightsleep</span><span class="p">([</span><span class="n">time_ms</span><span class="p">])</span>
<span class="n">machine</span><span class="o">.</span><span class="n">deepsleep</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">deepsleep</span><span class="p">([</span><span class="n">time_ms</span><span class="p">])</span>
<span class="n">machine</span><span class="o">.</span><span class="n">wake_reason</span><span class="p">()</span>
<span class="n">machine</span><span class="o">.</span><span class="n">time_pulse_us</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">pulse_level</span><span class="p">,</span> <span class="n">timeout_us</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span><span class="o">/</span><span class="p">)</span>
<span class="n">machine</span><span class="o">.</span><span class="n">bitstream</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">timing</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span>
<span class="n">machine</span><span class="o">.</span><span class="n">rng</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="delay-and-timing">
<h2>Delay and timing<a class="headerlink" href="#delay-and-timing" title="Link to this heading">¶</a></h2>
<p>Use the <a class="reference internal" href="../library/time.html#module-time" title="time: time related functions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">time</span></code></a> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>           <span class="c1"># sleep for 1 second</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep_ms</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>      <span class="c1"># sleep for 500 milliseconds</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep_us</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>       <span class="c1"># sleep for 10 microseconds</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">ticks_ms</span><span class="p">()</span> <span class="c1"># get value of millisecond counter</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">ticks_diff</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ticks_ms</span><span class="p">(),</span> <span class="n">start</span><span class="p">)</span> <span class="c1"># compute time difference</span>
</pre></div>
</div>
</section>
<section id="timers">
<h2>Timers<a class="headerlink" href="#timers" title="Link to this heading">¶</a></h2>
<p>The RA MCU’s system timer peripheral provides a global microsecond timebase and generates interrupts for it. The software timer is available currently and there are unlimited number of them (memory permitting). There is no need to specify the timer id (id=-1 is supported at the moment) as it will default to this.</p>
<p>Use the <a class="reference internal" href="../library/machine.Timer.html#machine.Timer" title="machine.Timer"><code class="xref py py-mod docutils literal notranslate"><span class="pre">machine.Timer</span></code></a> class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">Timer</span>

<span class="n">tim</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">tim</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">Timer</span><span class="o">.</span><span class="n">ONE_SHOT</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span><span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">tim</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">Timer</span><span class="o">.</span><span class="n">PERIODIC</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<dl class="simple">
<dt>Following functions are not supported at the present::</dt><dd><p>Timer(id)  # hardware timer is not supported.</p>
</dd>
</dl>
</section>
<section id="pins-and-gpio">
<h2>Pins and GPIO<a class="headerlink" href="#pins-and-gpio" title="Link to this heading">¶</a></h2>
<p>Use the <a class="reference internal" href="../library/machine.Pin.html#machine-pin"><span class="std std-ref">machine.Pin</span></a> class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">Pin</span>

<span class="n">p0</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="s1">&#39;P000&#39;</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>      <span class="c1"># create output pin on P000</span>
<span class="n">p0</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>                        <span class="c1"># set pin to &quot;on&quot; (high) level</span>
<span class="n">p0</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>                       <span class="c1"># set pin to &quot;off&quot; (low) level</span>
<span class="n">p0</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                    <span class="c1"># set pin to on/high</span>

<span class="n">p2</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="n">Pin</span><span class="o">.</span><span class="n">cpu</span><span class="o">.</span><span class="n">P002</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span> <span class="c1"># create input pin on P002</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>              <span class="c1"># get value, 0 or 1</span>

<span class="n">p4</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="s1">&#39;P004&#39;</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">PULL_UP</span><span class="p">)</span>      <span class="c1"># enable internal pull-up register</span>
<span class="n">p5</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="s1">&#39;P005&#39;</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># set pin high on creation</span>
</pre></div>
</div>
<p>Pin id is available corresponding to the RA MCU’s pin name which are Pin.cpu.P106 and ‘P106’. The RA MCU has many feature’s pins. However, there are some cases that pin feature is fixed or not connected by the board. Please confirm the board manual for the pin mapping.</p>
<p>The following <em>drive</em> keyword argument are available if the port drive capability of the Pin is supported by the MCU:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pin</span><span class="o">.</span><span class="n">DRIVE_0</span><span class="p">:</span> <span class="n">Low</span> <span class="n">drive</span>
<span class="n">Pin</span><span class="o">.</span><span class="n">DRIVE_1</span><span class="p">:</span> <span class="n">Middle</span> <span class="n">drive</span>
<span class="n">Pin</span><span class="o">.</span><span class="n">DRIVE_2</span><span class="p">:</span> <span class="n">Middle</span> <span class="n">drive</span> <span class="k">for</span> <span class="n">I2C</span> <span class="n">Fast</span><span class="o">-</span><span class="n">mode</span>
<span class="n">Pin</span><span class="o">.</span><span class="n">DRIVE_3</span><span class="p">:</span> <span class="n">High</span> <span class="n">drive</span>
</pre></div>
</div>
<p>The <em>alt</em> keyword argument is not supported.</p>
<p>The following functions are not supported:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pin</span><span class="o">.</span><span class="n">irq</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="p">)</span>  <span class="c1"># priority keyword argument is not supported</span>
<span class="n">Pin</span><span class="o">.</span><span class="n">irq</span><span class="p">(</span><span class="n">wake</span><span class="o">=</span><span class="p">)</span>      <span class="c1"># wake keyword argument is not supported</span>
<span class="n">Pin</span><span class="o">.</span><span class="n">irq</span><span class="p">(</span><span class="n">hard</span><span class="o">=</span><span class="p">)</span>      <span class="c1"># hard keyword argument is ignored because hardware interrupt is used</span>
<span class="n">Pin</span><span class="o">.</span><span class="n">mode</span><span class="p">()</span>
<span class="n">Pin</span><span class="o">.</span><span class="n">pull</span><span class="p">()</span>
<span class="n">Pin</span><span class="o">.</span><span class="n">drive</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="uart-serial-bus">
<h2>UART (serial bus)<a class="headerlink" href="#uart-serial-bus" title="Link to this heading">¶</a></h2>
<p>The RA MCU has some hardware UARTs called SCI (Serial Communication Interface).
UART id is available corresponding to the RA MCU’s SCI number which are UART(0) as SCI0 and UART(1) as SCI1.</p>
<p>See <a class="reference internal" href="../library/machine.UART.html#machine-uart"><span class="std std-ref">machine.UART</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">UART</span>

<span class="n">uart1</span> <span class="o">=</span> <span class="n">UART</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">115200</span><span class="p">)</span>
<span class="n">uart1</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>    <span class="c1"># write 5 bytes</span>
<span class="n">uart1</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>           <span class="c1"># read up to 5 bytes</span>
</pre></div>
</div>
<p>Available UARTs and pins on the board are fixed and follows. One of these UARTs is used for REPL.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA4M1</p></th>
<th class="head"><p>UART0(REPL)</p></th>
<th class="head"><p>UART1</p></th>
<th class="head"><p>UART2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>tx</p></td>
<td><p>P411</p></td>
<td><p>P401</p></td>
<td><p>P302</p></td>
</tr>
<tr class="row-odd"><td><p>rx</p></td>
<td><p>P410</p></td>
<td><p>P402</p></td>
<td><p>P301</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA4W1</p></th>
<th class="head"><p>UART1</p></th>
<th class="head"><p>UART4(REPL)</p></th>
<th class="head"><p>UART9</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>tx</p></td>
<td><p>P213</p></td>
<td><p>P204</p></td>
<td><p>P109</p></td>
</tr>
<tr class="row-odd"><td><p>rx</p></td>
<td><p>P212</p></td>
<td><p>P206</p></td>
<td><p>P110</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA6M1</p></th>
<th class="head"><p>UART0(REPL)</p></th>
<th class="head"><p>UART2</p></th>
<th class="head"><p>UART8</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>tx</p></td>
<td><p>P411</p></td>
<td><p>P302</p></td>
<td><p>P105</p></td>
</tr>
<tr class="row-odd"><td><p>rx</p></td>
<td><p>P410</p></td>
<td><p>P301</p></td>
<td><p>P104</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA6M2</p></th>
<th class="head"><p>UART0(REPL)</p></th>
<th class="head"><p>UART7</p></th>
<th class="head"><p>UART9</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>tx</p></td>
<td><p>P411</p></td>
<td><p>P401</p></td>
<td><p>P602</p></td>
</tr>
<tr class="row-odd"><td><p>rx</p></td>
<td><p>P410</p></td>
<td><p>P402</p></td>
<td><p>P601</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>RA4M1-CLICKER</p></th>
<th class="head"><p>UART0</p></th>
<th class="head"><p>UART1(REPL)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>tx</p></td>
<td><p>P411</p></td>
<td><p>P401</p></td>
</tr>
<tr class="row-odd"><td><p>rx</p></td>
<td><p>P410</p></td>
<td><p>P402</p></td>
</tr>
</tbody>
</table>
<p>Following functions are not supported at the present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UART</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">baudrate</span><span class="p">)</span>   <span class="c1"># now only 115200 is confirmed</span>
<span class="n">UART</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">cts</span><span class="p">,</span> <span class="n">rts</span><span class="p">)</span>   <span class="c1"># Pins are fixed.</span>
<span class="n">UART</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">invert</span><span class="p">)</span>
<span class="n">UART</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span><span class="n">rx</span><span class="p">)</span>      <span class="c1"># Pins are fixed.</span>
<span class="n">UART</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">txbuf</span><span class="p">)</span>
<span class="n">UART</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">flow</span><span class="p">)</span>
<span class="n">UART</span><span class="o">.</span><span class="n">irq</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
<span class="n">UART</span><span class="o">.</span><span class="n">irq</span><span class="p">(</span><span class="n">trigger</span><span class="o">=</span><span class="n">RX_ANY</span><span class="p">)</span>
<span class="n">UART</span><span class="o">.</span><span class="n">irq</span><span class="p">(</span><span class="n">priority</span><span class="p">)</span>
<span class="n">UART</span><span class="o">.</span><span class="n">irq</span><span class="p">(</span><span class="n">wake</span><span class="o">=</span><span class="n">machine</span><span class="o">.</span><span class="n">IDLE</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="real-time-clock-rtc">
<h2>Real time clock (RTC)<a class="headerlink" href="#real-time-clock-rtc" title="Link to this heading">¶</a></h2>
<p>See <a class="reference internal" href="../library/machine.RTC.html#machine-rtc"><span class="std std-ref">machine.RTC</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">RTC</span>

<span class="n">rtc</span> <span class="o">=</span> <span class="n">RTC</span><span class="p">()</span>
<span class="n">rtc</span><span class="o">.</span><span class="n">datetime</span><span class="p">((</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="c1"># set a specific date and time</span>
                                             <span class="c1"># time, eg 2017/8/23 1:12:48</span>
<span class="n">rtc</span><span class="o">.</span><span class="n">datetime</span><span class="p">()</span> <span class="c1"># get date and time</span>
</pre></div>
</div>
<p>Following functions are not supported at the present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RTC</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">datetime</span><span class="p">)</span>
<span class="n">RTC</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">RTC</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
<span class="n">RTC</span><span class="o">.</span><span class="n">alarm</span><span class="p">()</span>
<span class="n">RTC</span><span class="o">.</span><span class="n">alarm_left</span><span class="p">()</span>
<span class="n">RTC</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
<span class="n">RTC</span><span class="o">.</span><span class="n">irq</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="adc-analog-to-digital-conversion">
<h2>ADC (analog to digital conversion)<a class="headerlink" href="#adc-analog-to-digital-conversion" title="Link to this heading">¶</a></h2>
<p>See <a class="reference internal" href="../library/machine.ADC.html#machine-adc"><span class="std std-ref">machine.ADC</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">ADC</span>

<span class="n">adc</span> <span class="o">=</span> <span class="n">ADC</span><span class="p">(</span><span class="s1">&#39;P000&#39;</span><span class="p">)</span>    <span class="c1"># create an ADC object acting on a pin</span>
<span class="n">adc</span><span class="o">.</span><span class="n">read_u16</span><span class="p">()</span>       <span class="c1"># read a raw analog value in the range 0-65535</span>
</pre></div>
</div>
<p>Pin id is available corresponding to the RA MCU’s pin name which are ‘P000’ as AN000 (analog channel 000). The RA MCU has many analog channels. However, there are some cases that pin feature is fixed or not available by the board. Please confirm the MCU and board manual for the pin mapping.</p>
<p>Following functions are not supported at the present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ADC</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">ADC</span><span class="p">(</span><span class="n">sample_ns</span><span class="p">)</span>
<span class="n">ADC</span><span class="p">(</span><span class="n">atten</span><span class="p">)</span>
<span class="n">ADC</span><span class="o">.</span><span class="n">read_uv</span><span class="p">()</span>
<span class="n">ADC</span><span class="o">.</span><span class="n">block</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="spi-bus">
<h2>SPI bus<a class="headerlink" href="#spi-bus" title="Link to this heading">¶</a></h2>
<p>The RA MCU has some hardware SPIs (Serial Peripheral Interface).
SPI id is available corresponding to the RA MCU’s SPI number which are SPI(0) as SPI0 and SPI(1) as SPI1. If with no additional parameters, machine.SoftSPI() is called.</p>
<p>See <a class="reference internal" href="../library/machine.SPI.html#machine-spi"><span class="std std-ref">machine.SPI</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">SPI</span><span class="p">,</span> <span class="n">Pin</span>

<span class="n">spi</span> <span class="o">=</span> <span class="n">SPI</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">500000</span><span class="p">)</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">Pin</span><span class="o">.</span><span class="n">cpu</span><span class="o">.</span><span class="n">P103</span>
<span class="n">cs</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">spi</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;12345678&quot;</span><span class="p">)</span>
<span class="n">cs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Available SPIs and pins on the board are fixed and follows.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA4M1</p></th>
<th class="head"><p>SPI0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sck</p></td>
<td><p>P102</p></td>
</tr>
<tr class="row-odd"><td><p>mosi</p></td>
<td><p>P101</p></td>
</tr>
<tr class="row-even"><td><p>miso</p></td>
<td><p>P100</p></td>
</tr>
<tr class="row-odd"><td><p>cs</p></td>
<td><p>P206</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA4W1</p></th>
<th class="head"><p>SPI0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sck</p></td>
<td><p>P102</p></td>
</tr>
<tr class="row-odd"><td><p>mosi</p></td>
<td><p>P101</p></td>
</tr>
<tr class="row-even"><td><p>miso</p></td>
<td><p>P100</p></td>
</tr>
<tr class="row-odd"><td><p>cs</p></td>
<td><p>P103</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA6M1</p></th>
<th class="head"><p>SPI0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sck</p></td>
<td><p>P102</p></td>
</tr>
<tr class="row-odd"><td><p>mosi</p></td>
<td><p>P101</p></td>
</tr>
<tr class="row-even"><td><p>miso</p></td>
<td><p>P100</p></td>
</tr>
<tr class="row-odd"><td><p>cs</p></td>
<td><p>P103</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA6M2</p></th>
<th class="head"><p>SPI0</p></th>
<th class="head"><p>SPI1</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sck</p></td>
<td><p>P102</p></td>
<td><p>P702</p></td>
</tr>
<tr class="row-odd"><td><p>mosi</p></td>
<td><p>P101</p></td>
<td><p>P701</p></td>
</tr>
<tr class="row-even"><td><p>miso</p></td>
<td><p>P100</p></td>
<td><p>P700</p></td>
</tr>
<tr class="row-odd"><td><p>cs</p></td>
<td><p>P103</p></td>
<td><p>P703</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>RA4M1-CLICKER</p></th>
<th class="head"><p>SPI0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sck</p></td>
<td><p>P102</p></td>
</tr>
<tr class="row-odd"><td><p>mosi</p></td>
<td><p>P101</p></td>
</tr>
<tr class="row-even"><td><p>miso</p></td>
<td><p>P100</p></td>
</tr>
<tr class="row-odd"><td><p>cs</p></td>
<td><p>P103</p></td>
</tr>
</tbody>
</table>
<p>Following functions are not supported at the present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SPI</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">firstbit</span><span class="p">)</span>    <span class="c1"># now fixed with SPI.LSB</span>
<span class="n">SPI</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">baudrate</span><span class="p">)</span>    <span class="c1"># now confirmed only 500000</span>
</pre></div>
</div>
</section>
<section id="i2c-bus">
<h2>I2C bus<a class="headerlink" href="#i2c-bus" title="Link to this heading">¶</a></h2>
<p>The RA MCU has some hardware IIC (Inter-Integrated Circuit Bus).
I2C id is available corresponding to the RA MCU’s I2C number which are I2C(0) as IIC0 and I2C(1) as IIC1. If with no additional parameters, machine.SoftI2C() is called.</p>
<p>See <a class="reference internal" href="../library/machine.I2C.html#machine-i2c"><span class="std std-ref">machine.I2C</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">I2C</span>

<span class="n">i2c</span> <span class="o">=</span> <span class="n">I2C</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">i2c</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span>         <span class="c1"># returns list of slave addresses</span>
<span class="n">i2c</span><span class="o">.</span><span class="n">readfrom_mem</span><span class="p">(</span><span class="mh">0x50</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">addrsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>  <span class="c1"># read 2 bytes from slave 0x50, slave memory 0x10</span>
</pre></div>
</div>
<p>Available I2Cs and pins on the board are fixed and follows.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA4M1</p></th>
<th class="head"><ul class="simple">
<li></li>
</ul>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scl</p></td>
<td><p>not supported</p></td>
</tr>
<tr class="row-odd"><td><p>sda</p></td>
<td><p>not supported</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA4W1</p></th>
<th class="head"><p>I2C0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scl</p></td>
<td><p>P204</p></td>
</tr>
<tr class="row-odd"><td><p>sda</p></td>
<td><p>P407</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA6M1</p></th>
<th class="head"><p>I2C0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scl</p></td>
<td><p>P400</p></td>
</tr>
<tr class="row-odd"><td><p>sda</p></td>
<td><p>P401</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>EK-RA6M2</p></th>
<th class="head"><p>I2C2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scl</p></td>
<td><p>P512</p></td>
</tr>
<tr class="row-odd"><td><p>sda</p></td>
<td><p>P511</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>RA4M1-CLICKER</p></th>
<th class="head"><p>I2C1</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scl</p></td>
<td><p>P205</p></td>
</tr>
<tr class="row-odd"><td><p>sda</p></td>
<td><p>P206</p></td>
</tr>
</tbody>
</table>
<p>Following functions are not supported at the present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">I2C</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>    <span class="c1"># now confirmed only 400000</span>
<span class="n">I2C</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
<span class="n">I2C</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">I2C</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="pwm-pulse-width-modulation">
<h2>PWM (pulse width modulation)<a class="headerlink" href="#pwm-pulse-width-modulation" title="Link to this heading">¶</a></h2>
<p>PWM is not supported.</p>
</section>
<section id="wdt-watchdog-timer">
<h2>WDT (Watchdog timer)<a class="headerlink" href="#wdt-watchdog-timer" title="Link to this heading">¶</a></h2>
<p>WDT is not supported.</p>
</section>
<section id="sdcard">
<h2>SDCard<a class="headerlink" href="#sdcard" title="Link to this heading">¶</a></h2>
<p>The frozen sdcard driver (drivers/sdcard/sdcard.py) is available by connecting microSD card device to hardware SPI0 pins.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">Pin</span><span class="p">,</span> <span class="n">SPI</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">vfs</span><span class="o">,</span> <span class="nn">sdcard</span>

<span class="n">spi</span> <span class="o">=</span> <span class="n">SPI</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">500000</span><span class="p">)</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">Pin</span><span class="o">.</span><span class="n">cpu</span><span class="o">.</span><span class="n">P103</span>
<span class="n">sd</span> <span class="o">=</span> <span class="n">sdcard</span><span class="o">.</span><span class="n">SDCard</span><span class="p">(</span><span class="n">spi</span><span class="p">,</span> <span class="n">cs</span><span class="p">)</span>
<span class="n">vfs</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="n">sd</span><span class="p">,</span> <span class="s1">&#39;/sd&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">&#39;/sd&#39;</span><span class="p">)</span>
<span class="n">vfs</span><span class="o">.</span><span class="n">umount</span><span class="p">(</span><span class="s1">&#39;/sd&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="onewire-driver">
<h2>OneWire driver<a class="headerlink" href="#onewire-driver" title="Link to this heading">¶</a></h2>
<p>The OneWire driver is implemented in software and works on all pins:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">Pin</span>
<span class="kn">import</span> <span class="nn">onewire</span>

<span class="n">ow</span> <span class="o">=</span> <span class="n">onewire</span><span class="o">.</span><span class="n">OneWire</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="n">P012</span><span class="p">))</span> <span class="c1"># create a OneWire bus on P012</span>
<span class="n">ow</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span>               <span class="c1"># return a list of devices on the bus</span>
<span class="n">ow</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>              <span class="c1"># reset the bus</span>
<span class="n">ow</span><span class="o">.</span><span class="n">readbyte</span><span class="p">()</span>           <span class="c1"># read a byte</span>
<span class="n">ow</span><span class="o">.</span><span class="n">writebyte</span><span class="p">(</span><span class="mh">0x12</span><span class="p">)</span>      <span class="c1"># write a byte on the bus</span>
<span class="n">ow</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">)</span>         <span class="c1"># write bytes on the bus</span>
<span class="n">ow</span><span class="o">.</span><span class="n">select_rom</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;12345678&#39;</span><span class="p">)</span> <span class="c1"># select a specific device by its ROM code</span>
</pre></div>
</div>
<p>There is a specific driver for DS18S20 and DS18B20 devices:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">ds18x20</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">ds18x20</span><span class="o">.</span><span class="n">DS18X20</span><span class="p">(</span><span class="n">ow</span><span class="p">)</span>
<span class="n">roms</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span>
<span class="n">ds</span><span class="o">.</span><span class="n">convert_temp</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep_ms</span><span class="p">(</span><span class="mi">750</span><span class="p">)</span>
<span class="k">for</span> <span class="n">rom</span> <span class="ow">in</span> <span class="n">roms</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">read_temp</span><span class="p">(</span><span class="n">rom</span><span class="p">))</span>
</pre></div>
</div>
<p>Be sure to put a 4.7k pull-up resistor on the data line.  Note that
the <code class="docutils literal notranslate"><span class="pre">convert_temp()</span></code> method must be called each time you want to
sample the temperature.</p>
</section>
<section id="neopixel-and-apa106-driver">
<h2>NeoPixel and APA106 driver<a class="headerlink" href="#neopixel-and-apa106-driver" title="Link to this heading">¶</a></h2>
<p>NeoPixel is not supported currently.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Quick reference for the Renesas RA</a><ul>
<li><a class="reference internal" href="#installing-micropython">Installing MicroPython</a></li>
<li><a class="reference internal" href="#general-board-control">General board control</a></li>
<li><a class="reference internal" href="#delay-and-timing">Delay and timing</a></li>
<li><a class="reference internal" href="#timers">Timers</a></li>
<li><a class="reference internal" href="#pins-and-gpio">Pins and GPIO</a></li>
<li><a class="reference internal" href="#uart-serial-bus">UART (serial bus)</a></li>
<li><a class="reference internal" href="#real-time-clock-rtc">Real time clock (RTC)</a></li>
<li><a class="reference internal" href="#adc-analog-to-digital-conversion">ADC (analog to digital conversion)</a></li>
<li><a class="reference internal" href="#spi-bus">SPI bus</a></li>
<li><a class="reference internal" href="#i2c-bus">I2C bus</a></li>
<li><a class="reference internal" href="#pwm-pulse-width-modulation">PWM (pulse width modulation)</a></li>
<li><a class="reference internal" href="#wdt-watchdog-timer">WDT (Watchdog timer)</a></li>
<li><a class="reference internal" href="#sdcard">SDCard</a></li>
<li><a class="reference internal" href="#onewire-driver">OneWire driver</a></li>
<li><a class="reference internal" href="#neopixel-and-apa106-driver">NeoPixel and APA106 driver</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../zephyr/tutorial/pins.html"
                          title="previous chapter"><span class="section-number">4. </span>GPIO Pins</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="general.html"
                          title="next chapter">General information about Renesas RA port</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/renesas-ra/quickref.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="general.html" title="General information about Renesas RA port"
             >next</a> |</li>
        <li class="right" >
          <a href="../zephyr/tutorial/pins.html" title="4. GPIO Pins"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MicroPython latest documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Quick reference for the Renesas RA</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright - The MicroPython Documentation is Copyright © 2014-2024, Damien P. George, Paul Sokolovsky, and contributors.
      Last updated on 24 Jul 2024.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    </div>
  </body>
</html>